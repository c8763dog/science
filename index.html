<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>透過科學算法預測父母性別</title>
  <style>
    :root{--bg:#f4f7fb;--card:#ffffff;--accent:#4f46e5;--muted:#6b7280}
    *{box-sizing:border-box;font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Noto Sans CJK TC","Helvetica Neue",Arial}
    body{margin:0;background:linear-gradient(180deg,var(--bg),#eef2ff);min-height:100vh;display:flex;align-items:center;justify-content:center;padding:24px;font-size:18px}
    .container{width:100%;max-width:680px;background:var(--card);border-radius:12px;padding:28px;box-shadow:0 8px 30px rgba(15,23,42,0.08)}
    h1{margin:0 0 10px;font-size:24px;color:#0f172a}
    p.lead{margin:0 0 20px;color:var(--muted);font-size:18px}
    .form .row{display:none;gap:12px;align-items:center;margin-bottom:16px}
    .form .row.visible{display:flex;flex-direction:column}
    .question{flex:1}
    label.q{display:block;font-weight:600;margin-bottom:10px;font-size:20px}
    .options{display:flex;gap:12px;margin-bottom:10px}
    .options button, .actions button{padding:10px 16px;border-radius:10px;border:1px solid #e6e9f2;background:#fff;cursor:pointer;font-size:18px}
    .options button.active{background:var(--accent);color:#fff;border-color:transparent}
    .submit{display:none;justify-content:flex-end;margin-top:8px}
    .submit.visible{display:flex}
    .submit button{background:var(--accent);color:#fff;border:none;padding:12px 18px;border-radius:10px;cursor:pointer;font-size:18px}
    .result, .loading{display:none;align-items:center;justify-content:center;flex-direction:column;padding:20px 12px;font-size:20px}
    .visible-result{display:flex}
    .spinner{width:64px;height:64px;border-radius:50%;border:6px solid rgba(0,0,0,0.06);border-top-color:var(--accent);animation:spin 1s linear infinite;margin-bottom:16px}
    @keyframes spin{to{transform:rotate(360deg)}}
    .result .text{font-size:22px;margin-bottom:12px}
    .small{color:var(--muted);font-size:16px}
    .actions{display:flex;gap:12px;margin-top:16px}
    .reset{background:white;color:var(--accent);border:1px solid rgba(79,70,229,0.15)}
    .progress{margin-bottom:12px;font-size:18px;color:var(--accent)}
    footer{margin-top:18px;color:var(--muted);font-size:14px;text-align:center}
    @media (max-width:520px){.row{flex-direction:column;align-items:flex-start}}
  </style>
</head>
<body>
  <div class="container">
    <h1>透過科學算法預測父母性別</h1>
    <p class="lead">請依序回答以下 4 個問題，完成後系統會啟動量子分析。</p>

    <form id="survey" class="form" onsubmit="return false;">
      <!-- 進度條 -->
      <div class="progress" id="progressText">第 1 / 4 題</div>

      <div class="row visible" id="step1">
        <div class="question">
          <label class="q">問題 1：你想預測父親還是母親的性別？</label>
          <div class="options" id="q1">
            <button type="button" data-value="father">父親</button>
            <button type="button" data-value="mother">母親</button>
          </div>
          <div class="submit">
            <button type="button" id="confirm1">確認</button>
          </div>
        </div>
      </div>

      <div class="row" id="step2">
        <div class="question">
          <label class="q">問題 2：你吃早餐了嗎？</label>
          <div class="options" id="q2">
            <button type="button" data-value="yes">吃了</button>
            <button type="button" data-value="no">沒吃</button>
          </div>
          <div class="submit">
            <button type="button" id="confirm2">確認</button>
          </div>
        </div>
      </div>

      <div class="row" id="step3">
        <div class="question">
          <label class="q">問題 3：你吃午餐了嗎？</label>
          <div class="options" id="q3">
            <button type="button" data-value="yes">吃了</button>
            <button type="button" data-value="no">沒吃</button>
          </div>
          <div class="submit">
            <button type="button" id="confirm3">確認</button>
          </div>
        </div>
      </div>

      <div class="row" id="step4">
        <div class="question">
          <label class="q">問題 4：你吃晚餐了嗎？</label>
          <div class="options" id="q4">
            <button type="button" data-value="yes">吃了</button>
            <button type="button" data-value="no">沒吃</button>
          </div>
          <div class="submit">
            <button type="button" id="confirm4">確認</button>
          </div>
        </div>
      </div>

      <div class="submit" id="submitRow">
        <button id="startBtn" type="button">開始分析</button>
      </div>
    </form>

    <div id="loading" class="loading">
      <div class="spinner" aria-hidden></div>
      <div class="small">量子分析中，請稍後...</div>
    </div>

    <div id="result" class="result" role="status" aria-live="polite">
      <div class="text" id="resultText">結果</div>
      <div class="small" id="subText"></div>
      <div class="actions">
        <button id="restartBtn" class="reset">重新開始</button>
      </div>
    </div>

    <footer>注意：此頁面為示範用途，結果僅供娛樂參考。</footer>
  </div>

  <script>
    const steps = ['step1','step2','step3','step4'];
    let currentStep = 0;

    // 選項點擊高亮
    function setupOptions(containerId){
      const container = document.getElementById(containerId);
      container.querySelectorAll('button').forEach(btn=>{
        btn.addEventListener('click', ()=>{
          container.querySelectorAll('button').forEach(b=>b.classList.remove('active'));
          btn.classList.add('active');
        });
      });
    }
    ['q1','q2','q3','q4'].forEach(setupOptions);

    // 確認按鈕
    function setupConfirm(confirmId, stepIndex){
      document.getElementById(confirmId).addEventListener('click', ()=>{
        const active = document.getElementById('q'+(stepIndex+1)).querySelector('button.active');
        if(!active){
          alert('請先選擇一個答案');
          return;
        }
        // 隱藏當前
        document.getElementById(steps[stepIndex]).classList.remove('visible');
        if(stepIndex < steps.length - 1){
          document.getElementById(steps[stepIndex+1]).classList.add('visible');
        }else{
          document.getElementById('submitRow').classList.add('visible');
        }
        // 更新進度
        document.getElementById('progressText').textContent = '第 ' + (stepIndex+2) + ' / 4 題';
      });
    }
    ['confirm1','confirm2','confirm3','confirm4'].forEach((id,i)=>setupConfirm(id,i));

    const startBtn = document.getElementById('startBtn');
    const loadingEl = document.getElementById('loading');
    const resultEl = document.getElementById('result');
    const resultText = document.getElementById('resultText');
    const subText = document.getElementById('subText');
    const restartBtn = document.getElementById('restartBtn');

    function getAnswer(qid){
      const el = document.getElementById(qid);
      const active = el.querySelector('button.active');
      return active ? active.getAttribute('data-value') : null;
    }

    function disableInputs(disabled){
      document.querySelectorAll('.options button, #startBtn').forEach(el=>el.disabled = disabled);
    }

    startBtn.addEventListener('click', ()=>{
      const a1 = getAnswer('q1');

      document.getElementById('survey').style.display = 'none';
      loadingEl.classList.add('visible-result');
      disableInputs(true);

      setTimeout(()=>{
        loadingEl.classList.remove('visible-result');
        let msg = '';
        if(a1 === 'father'){
          msg = '你的父親是男性！';
        }else if(a1 === 'mother'){
          msg = '你的母親是女性！';
        }else{
          msg = '請選擇要預測的父母。';
        }
        resultText.textContent = msg;
        subText.textContent = '（根據量子演算法模擬結果推論）';
        resultEl.classList.add('visible-result');
        disableInputs(false);
      }, 3000);
    });

    restartBtn.addEventListener('click', ()=>{
      document.querySelectorAll('.options button').forEach(b=>b.classList.remove('active'));
      document.getElementById('survey').style.display = '';
      resultEl.classList.remove('visible-result');
      loadingEl.classList.remove('visible-result');
      document.getElementById('submitRow').classList.remove('visible');
      steps.forEach((s,i)=>{
        document.getElementById(s).classList.remove('visible');
      });
      document.getElementById('step1').classList.add('visible');
      document.getElementById('progressText').textContent = '第 1 / 4 題';
    });
  </script>
</body>
</html>
